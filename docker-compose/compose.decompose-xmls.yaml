services:
  decompose-xmls:
    image: ghcr.io/bzkf/onco-analytics-on-fhir/decompose-xmls:v2.3.0@sha256:ca676f938714e54342eb0823905c4b79968628d9cbf11c189f66473a8b3eeaf5 # x-release-please-version
    user: "${UID:-1000}:${GID:-1000}"
    environment:
      KAFKA_ENABLED: "true"
      KAFKA_BOOTSTRAP_SERVERS: "kafka:9092"
      KAFKA_OUTPUT_TOPIC: "onkostar.MELDUNG_EXPORT"
      SAVE_AS_FILES_ENABLED: "false"
      # Set to 'true' to enable removing of leading zeros in patient IDs
      REMOVE_LEADING_PATIENTID_ZEROS: "false"
    volumes:
      - ./input-obds-reports:/app/input-obds-reports
      - ./output-obds-reports:/app/output-obds-reports
